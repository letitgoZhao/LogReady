# 58. 最后一个单词的长度

> [题目链接](https://leetcode.cn/problems/length-of-last-word/?envType=study-plan-v2&envId=top-interview-150)

## 初次尝试——面向测试用例

```cpp
class Solution {
public:
    int lengthOfLastWord(string s) {
        int left = -1, right = -1;
        bool flag = true;
        for (int i = s.size() - 1; i >= 0; --i) {
            // 处理右端
            if (s[i] != ' ' && flag) {
                right = i;
                flag = false;
            }
            // 处理左端
            if (i == 0) {
                left = 0;
                break;
            }
            if (right != -1 && s[i] == ' ') {
                left = i;
                break;
            }
        }
        // 'a'情况
        if (left == 0 && right == 0)
            return 1;
        // 'a '情况
        if (left == 0 && s[left] != ' ')
            return right - left + 1;
        // 'asd asd'一般情况
        return right - left;
    }
};
```

## 反向遍历——初次尝试的优化

```cpp
class Solution {
public:
    int lengthOfLastWord(string s) {
        int index = s.size() - 1;

        while (s[index] == ' ') {
            index--;
        }
        int length = 0;
        while (index >= 0 && s[index] != ' ') {
            length++;
            index--;
        }
        return length;
    }
};
```