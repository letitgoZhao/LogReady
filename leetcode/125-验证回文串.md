# 125. 验证回文串

> [题目链接](https://leetcode.cn/problems/valid-palindrome/description/?envType=study-plan-v2&envId=top-interview-150)

## 遍历+标准库函数使用
```cpp
#include <cctype>

class Solution {
public:
    bool isPalindrome(string s) {
        string sgood;
        // 迭代器或增强for遍历, 得到字母和数字字符串sgood
        for (std::string::iterator it = s.begin(); it != s.end(); it++) {
            if (isalnum(*it)) {
                sgood += tolower(*it);
            }
        }
        string sgood_reverse(sgood.rbegin(), sgood.rend());
        return sgood_reverse == sgood;
    }
};
```

## 双下标检索方案
```cpp
#include <cctype>

class Solution {
public:
    bool isPalindrome(string s) {
        string sgood;
        // 迭代器或增强for遍历, 得到字母和数字字符串sgood
        for (std::string::iterator it = s.begin(); it != s.end(); it++) {
            if (std::isalnum(*it)) {
                sgood += tolower(*it);
            }
        }
        // 双指针进行验证
        int sz = sgood.size();
        int l = 0, r = sz - 1;

        while (l < r) {
            if (sgood[l] == sgood[r]) {
                l++;
                r--;
            } else {
                return false;   // 不是回文串
            }
        }
        // l >= r 就说明是回文串
        return true;
    }
};
```

## o(1)空间复杂度
```cpp
#include <cctype>

class Solution {
public:
    bool isPalindrome(string s) {
        int left = 0, right = s.size() - 1;
        while (left < right) {
            // 对left - 直至检测到合法字符, 并保证不能死循环和越界
            while (left < right &&!std::isalnum(s[left])) {
                left++;
            }
            // 对right - 直至检测到合法字符, 并保证不能死循环和越界
            while (left < right && !std::isalnum(s[right])) {
                right--;
            }
            // left合法、right合法 - 判断两者是否满足要求
            if (std::tolower(s[left]) != std::tolower(s[right])) {
                return false;
            } else {
                ++left;
                --right;
            }
        }
        return true;
    }
};
```