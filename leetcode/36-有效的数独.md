# 36. 有效的数独

> [题目链接](https://leetcode.cn/problems/valid-sudoku/?envType=study-plan-v2&envId=top-interview-150)

## 模拟——依据题目规则

```cpp
class Solution {
public:
    bool isValidSudoku(vector<vector<char>>& board) {
        // 每一行的每个数是否出现, row[i][2] = true 表示在第i行出现了数字2
        bool row[9][10] = {0};
        // 每一列的每个数是否出现, col[i][3] = true 表示在第i列出现了数字3
        bool col[9][10] = {0};
        // 每一个3x3的box的每个数是否出现,
        // box[i][9] = true, 表示在第i个box出现了数字9
        bool box[9][10] = {0};
        // 从左至右、从上至下依次表示, box[0] box[1] ... box[9]

        // i行j列遍历方式
        for (int i = 0; i < 9; i++) {
            for (int j = 0; j < 9; j++) {
                // 处理无效字符'.'
                if (board[i][j] == '.')
                    continue;
                // 计算数字大小
                int cur = board[i][j] - '0';
                int box_index = j / 3 + (i / 3) * 3;

                // 规则1. 数字1-9在每一行只能出现一次
                if (row[i][cur])
                    return false;
                // 规则2. 数字1-9在每一列只能出现一次
                if (col[j][cur])
                    return false;
                // 规则3.  数字1-9在box只能出现一次
                if (box[box_index][cur])
                    return false;

                // 更新表操作, 没有违规操作
                row[i][cur] = true;
                col[j][cur] = true;
                box[box_index][cur] = true;
            }
        }
        // 说明有效
        return true;
    }
};
```