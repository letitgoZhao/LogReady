# 19. 删除链表的倒数第N个结点

> [题目链接](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/?envType=study-plan-v2&envId=top-interview-150)

## 哨兵结点+链表长度

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    ListNode* removeNthFromEnd(ListNode* head, int n) {
        // 注意sz[1,30], n[1, sz]
        ListNode* dummy = new ListNode(-1, head);
        // [-1] - [1, 2, 3, 4, 5] -> [-1] - [1, 2, 3, 5]
        // 1. 找到'3', 即待删除结点的前结点
        int len = length(dummy);
        ListNode* prev = dummy;
        for (int i = 0; i < len - 1 - n; ++i) {
            prev = prev->next;
        }
        // 2. 删除结点操作
        if (prev->next == nullptr)
            // 说明应该删除prev, cur为nullptr
            prev = nullptr;
        else
            // 说明可以正常链接下下一级结点, '删除'
            prev->next = prev->next->next;
        // 3. 注意, 其实可以直接执行else后内容, if内容重合
        ListNode* ans = dummy->next;
        delete dummy;
        return ans;
    }

private:
    int length(ListNode* head) {
        int len = 0;
        while (head != nullptr) {
            head = head->next;
            len++;
        }
        return len;
    }
};
```

## 快慢指针+哨兵结点

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    ListNode* removeNthFromEnd(ListNode* head, int n) {
        ListNode *dummy = new ListNode(-1, head);
        ListNode *fir = head;
        ListNode *sec = dummy;
        // [-1] - [1, 2, 3, 4, 5] -> [-1] - [1, 2, 3, 5]
        for (int i = 0; i < n; ++i) {
            fir = fir->next;
        }
        while (fir != nullptr) {
            fir = fir->next;
            sec = sec->next;
        }// second - '3', first - 'nullptr'
        sec->next = sec->next->next;
        ListNode *ans = dummy->next;
        delete dummy;
        return ans;
    }
};
```