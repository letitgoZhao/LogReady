# 172. 阶乘后的零

> [题目链接](https://leetcode.cn/problems/factorial-trailing-zeroes/?envType=study-plan-v2&envId=top-interview-150)

## 方法一
考察对乘法、阶乘、质因子等基础数学知识的理解。
```cpp
class Solution {
public:
    int trailingZeroes(int n) {
        // 10 = 1 * 10 = 2 * 5
        // 求解n!中质因子为2、5的个数中的较小值
        // 5的个数不会大于2的个数, 因而相当于求质因子2的个数.

        // 具体的说: n! = n * (n - 1) * (n - 2) * ... * 2 * 1
        // 依次求出1、2、...的质因子5的个数, 然后累加即可.
        int ans = 0;
        // 只有5、10、15、20、......能出现5
        for (int i = 5; i <= n; i += 5) {
            for (int x = i; x % 5 == 0; x /= 5) {
                ++ans;
            }
        }
        return ans;
    }
};
```

## 方法一的优化计算
换角度考虑问题。
```cpp
class Solution {
public:
    int trailingZeroes(int n) {
        // 优化计算——转换思路
        // [1, n]中质因子p的个数
        // p^1 - n1 = n / p^1
        // p^2 - n2 = n / p^2
        // p^3 - n3 = n / p^3
        // ......
        // 举例, n = 100, p = 5, 此题中.
        // 5 - n1 = 100 / 5 = 20, 相当于[5, 10, 15, ... , 100]各拿一个5
        // 25 - n2 = 100 / 25 = 4, 相当于[25, 50, 75, 100], 各拿一个5
        // 编程时可以简化为：
        // n / p^k = (n / p^k-1) / p
        int ans = 0;
        while (n != 0) {
            n /= 5;
            ans += n;
        }
        return ans;
    }
};
```