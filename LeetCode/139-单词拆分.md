# 139. 单词拆分

> [题目链接](https://leetcode.cn/problems/word-break/?envType=study-plan-v2&envId=top-interview-150)

# 动态规划

```cpp
class Solution {
public:
    bool wordBreak(string s, vector<string>& wordDict) {
        // dp[i]表示s[0,...,i-1]能否被空格拆分为字典中的单词
        // dp[i] = dp[j] && check(s[j,...,i-1])为转移方程
        // check(s[j,...,i-1])表示子串s[j,...,i-1]是否出现在字典中
        auto wordDictSet = unordered_set<string>();
        for (const auto word : wordDict) {
            wordDictSet.insert(word);
        }
        // 例子说明:
        // 1. s="leetcode"
        // dp[0] = true --> 边界条件
        // dp[4] = true --> dp[0] && 找到'leet', 长度为4
        // dp[8] = ture --> dp[4] && 找到'code', 长度为4

        // 2. s="apple pen apple"
        // dp[0] = true --> 边界条件
        // dp[5] = true --> dp[0] && 找到'apple', 长度为5
        // dp[8] = true --> dp[5] && 找到 'pen', 长度为3
        // dp[13] = true --> dp[8] && 找到'apple', 长度为5

        auto dp = vector<bool>(s.size() + 1, false);
        // dp[0] = true, 表示空串合法
        dp[0] = true;
        // str.substr(index, len) --> index表示下标位置, len表示substr长度
        for (int i = 1; i <= s.size(); i++) {
            for (int j = 0; j < i; j++) {
                if (dp[j] &&
                    wordDictSet.find(s.substr(j, i - j)) != wordDictSet.end()) {
                    dp[i] = true;
                    break;
                }
            }
        }
        return dp[s.size()];
    }
};
```