# 12. 整数转罗马数字

> [题目链接](https://leetcode.cn/problems/integer-to-roman/?envType=study-plan-v2&envId=top-interview-150)

> 罗马数字是通过添加`从最高到最低的小数位值的转换`而形成的。将小数位值转换为罗马数字有以下规则:
> - 如果该值不是以 `4 或 9` 开头，请选择可以从输入中`减去`的最大值的符号，将该符号附加到结果，减去其值，然后将其余部分转换为罗马数字。
> - 如果该值以 4 或 9 开头，使用 `减法形式`，表示从以下符号中减去一个符号。
> - 例如 4 是 5 (V) 减 1 (I): IV ，9 是 10 (X) 减 1 (I)：IX。
> - 仅使用以下减法形式:`4  (IV)，9 (IX)，40 (XL)，90 (XC)，400 (CD) 和 900 (CM)`。
> - 只有 10 的次方（I, X, C, M）最多可以连续附加 3 次以代表 10 的倍数。
> - 你不能多次附加 5 (V)，50 (L) 或 500 (D)。如果需要将符号附加4次，请使用 减法形式。

## 模拟
建立一个`数值-符号对应表`, 按数值从大到小进行排列。
时间复杂度o(1), 空间复杂度o(1), 因为外循环操作的是`symbols[]`。

- num = 3749
1. 1000 + 1000 + 1000 -> MMM
2. 500 -> D
3. 100 + 100 -> CC
4. 40 -> XL
5. 9 -> IX
6. 拼接构造, ans_builder = MMMDCCXLIX 

```cpp
class Solution {
public:
    string intToRoman(int num) {
        string ans_builder = "";
        for (const auto& [value, symbol] : symbols) {
            // 处理多个一致字符情况, 如MMM->3000
            while (num >= value) {
                num -= value;
                ans_builder += symbol;
            }
            // num == 0, 说明填充完毕
            if (num == 0)
                break;
        }
        return ans_builder;
    }

private:
    const pair<int, string> symbols[13] = {
        {1000, "M"}, {900, "CM"}, {500, "D"}, {400, "CD"}, {100, "C"},
        {90, "XC"},  {50, "L"},   {40, "XL"}, {10, "X"},   {9, "IX"},
        {5, "V"},    {4, "IV"},   {1, "I"},
    };
};
```

## 硬编码方式
题目中给定了 `1<=num<=3999`, 我们可以依次求出其个位, 十位, 百位, 千位。
```cpp
class Solution {
public:
    string intToRoman(int num) {
        string str_1000 = thousands[num / 1000];
        string str_100 = hundreds[(num % 1000) / 100];
        string str_10 = tens[(num % 100) / 10];
        string str_1 = ones[num % 10];
        return (str_1000 + str_100 + str_10 + str_1);
    }

private:
    // 千位的可能情况
    const string thousands[4] = {"", "M", "MM", "MMM"};
    const string hundreds[10] = {"",  "C",  "CC",  "CCC",  "CD",
                                 "D", "DC", "DCC", "DCCC", "CM"};
    const string tens[10] = {"",  "X",  "XX",  "XXX",  "XL",
                             "L", "LX", "LXX", "LXXX", "XC"};
    const string ones[10] = {"",  "I",  "II",  "III",  "IV",
                             "V", "VI", "VII", "VIII", "IX"};
};
```