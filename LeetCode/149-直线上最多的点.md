# 149. 直线上最多的点

> [题目链接](https://leetcode.cn/problems/max-points-on-a-line/?envType=study-plan-v2&envId=top-interview-150)

## 暴力求解
时间复杂度`o(n^3)`。
- 求解思路：由两个点就能确定出斜率, 双层`for-loop`就能确定出`points`所有的斜率组合。
- 再由一层`for-loop`就能计算出当前斜率的所有点组合。
- 最后$max{temp1, temp2, ..., tempn}$就能求出直线上最多的点。

```cpp
class Solution {
public:
    int maxPoints(vector<vector<int>>& points) {
        int n = points.size();
        if (n == 1)
            return 1;   // 一个点的情况
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            for (int j = i + 1; j < n; ++j) {
                int temp = 0;
                int x1 = points[i][0], y1 = points[i][1];
                int x2 = points[j][0], y2 = points[j][1];
                int dx = x2 - x1, dy = y2 - y1;
                for (auto& p : points) { // p为点
                    // dy / dx = p[1] - y1 / p[0] - x1, 乘法避免误差
                    if (dy * (p[0] - x1) == dx * (p[1] - y1))
                        temp++; // 自身也算进去
                }
                // 由points[i]和points[j]计算出斜率, 从而再遍历得出一致斜率的值
                ans = std::max(ans, temp);
            }
        }
        // ans = max(max_1, max_2, ..., max_n)
        return ans;
    }
};
```