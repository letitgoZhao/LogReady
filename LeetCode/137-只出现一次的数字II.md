# 137. 只出现一次的数字 II

> [题目链接](https://leetcode.cn/problems/single-number-ii/description/?envType=study-plan-v2&envId=top-interview-150)

给你一个整数数组 nums ，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次 。请你找出并返回那个只出现了一次的元素。

你必须设计并实现线性时间复杂度的算法且使用常数级空间来解决此问题。

例如, 输入为`nums = [2,2,3,2]`, 输出为`3`。

提示：

- `1 <= nums.length <= 3 * 10^4`
- `-2^31 <= nums[i] <= 2^31 - 1`
- `nums 中，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次`


方案1, 采用`字典+迭代过滤`的方式进行操作。

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        dict_num = dict()
        # 统计每个数字出现的次数
        for index, num in enumerate(nums):
            if num in dict_num:
                dict_num[num] += 1
            else: 
                dict_num[num] = 1
        # 迭代过滤
        return next(k for k, v in dict_num.items() if v == 1)
```

**方案2, 采用`位运算`的方式进行操作, 这个超级难想出来, 很难理解。**

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        ones, twos = 0, 0
        for num in nums:
            ones = (ones ^ num) & ~twos
            twos = (twos ^ num) & ~ones
        return ones
```